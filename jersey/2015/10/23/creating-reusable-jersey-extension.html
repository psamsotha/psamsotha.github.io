<!DOCTYPE html>
<html>

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <!-- favicon stuff -->
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="manifest" href="/manifest.json">
  <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
  <meta name="apple-mobile-web-app-title" content="Peeskillet">
  <meta name="application-name" content="Peeskillet">
  <meta name="theme-color" content="#ffffff">
  <!-- end favicon -->

  <title>
    jersey - 
    Creating Reusable Jersey Extensions (Features)
  </title>
  <meta name="description" content="How we can implement reusable extensions (features) when working with Jersey 2.">

  <link rel="stylesheet" href="/css/main.css">
  <link rel="canonical" href="https://psamsotha.github.io/jersey/2015/10/23/creating-reusable-jersey-extension.html">
  <link rel="alternate" type="application/rss+xml" title="Paul Samsotha Blog" href="https://psamsotha.github.io/feed.xml">

  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <script>
    (adsbygoogle = window.adsbygoogle || []).push({
      google_ad_client: "ca-pub-5723433679253306",
      enable_page_level_ads: true
    });
  </script>
  <!-- Google Analytics -->
  
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-89168307-1', 'auto');
    ga('send', 'pageview');
  </script>
  
</head>


  <body>
    <div style="height: 0; width: 0; position: absolute; visibility: hidden">
  <!-- inject:svg --><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><symbol id="back-arrow" viewBox="0 0 512 512"><polygon points="352,128.4 319.7,96 160,256 160,256 160,256 319.7,416 352,383.6 224.7,256 "/></symbol><symbol id="email" viewBox="0 0 512 512"><path d="M484.748,96.359H27.439h-3.966h-9.625h-6.63v318.585H505V96.359h-17.218H484.748z M464.837,116.271  L272.529,308.578c-8.769,8.769-24.073,8.769-32.842,0L47.35,116.271H464.837z M27.128,124.203l129.287,129.268L27.128,382.759  V124.203z M43.014,395.029l127.489-127.47l55.106,55.097c8.138,8.148,18.978,12.64,30.499,12.64c11.521,0,22.361-4.492,30.499-12.64  l55.106-55.106l127.479,127.479H43.014z M485.089,382.769L355.801,253.472l129.287-129.297V382.769z" fill="#37404D"/></symbol><symbol id="forward-arrow" viewBox="0 0 512 512"><polygon points="160,128.4 192.3,96 352,256 352,256 352,256 192.3,416 160,383.6 287.3,256 "/></symbol><symbol id="github-plain" viewBox="0 0 24 24"><path d="M12 0c-6.626 0-12 5.373-12 12 0 5.302 3.438 9.8 8.207 11.387.599.111.793-.261.793-.577v-2.234c-3.338.726-4.033-1.416-4.033-1.416-.546-1.387-1.333-1.756-1.333-1.756-1.089-.745.083-.729.083-.729 1.205.084 1.839 1.237 1.839 1.237 1.07 1.834 2.807 1.304 3.492.997.107-.775.418-1.305.762-1.604-2.665-.305-5.467-1.334-5.467-5.931 0-1.311.469-2.381 1.236-3.221-.124-.303-.535-1.524.117-3.176 0 0 1.008-.322 3.301 1.23.957-.266 1.983-.399 3.003-.404 1.02.005 2.047.138 3.006.404 2.291-1.552 3.297-1.23 3.297-1.23.653 1.653.242 2.874.118 3.176.77.84 1.235 1.911 1.235 3.221 0 4.609-2.807 5.624-5.479 5.921.43.372.823 1.102.823 2.222v3.293c0 .319.192.694.801.576 4.765-1.589 8.199-6.086 8.199-11.386 0-6.627-5.373-12-12-12z"/></symbol><symbol id="pio-logo" viewBox="0 0 145.87 34.95">
  <g>
    <path d="M33.28,38.85a3.29,3.29,0,0,0-.11-1,1.73,1.73,0,0,1-.11-0.56,0.68,0.68,0,0,1,.38-0.59,1.65,1.65,0,0,1,.89-0.23,2.9,2.9,0,0,1,1.93.62A1.91,1.91,0,0,1,37,38.62V54.3a8.43,8.43,0,0,0,1.86-.47,12,12,0,0,0,2.14-1,12.82,12.82,0,0,0,2.14-1.65A11.56,11.56,0,0,0,45,48.84a12.38,12.38,0,0,0,1.32-3,12.54,12.54,0,0,0,.5-3.67,9.82,9.82,0,0,0-.43-2.81A7.93,7.93,0,0,0,45,36.74a7.31,7.31,0,0,0-2.43-2A7.72,7.72,0,0,0,39,34a12.43,12.43,0,0,0-4.94.89,9.18,9.18,0,0,0-3.36,2.39,9.52,9.52,0,0,0-1.91,3.48,14.15,14.15,0,0,0-.61,4.18,11.37,11.37,0,0,0,.27,2.68,9.62,9.62,0,0,0,.6,1.78,4.75,4.75,0,0,0,.61,1L30,50.8a0.49,0.49,0,0,1,.56.09,0.89,0.89,0,0,1,.16.56,3.42,3.42,0,0,1-.22,1,5.43,5.43,0,0,1-.6,1.23,2.7,2.7,0,0,1-.87.87,0.83,0.83,0,0,1-1-.11,12.46,12.46,0,0,1-.87-0.94A9,9,0,0,1,26,51.68a15,15,0,0,1-1-2.74,14,14,0,0,1-.45-3.71,16.83,16.83,0,0,1,1.05-6.11,13.55,13.55,0,0,1,3-4.68,13.09,13.09,0,0,1,4.56-3A15.7,15.7,0,0,1,39,30.39a12.62,12.62,0,0,1,4.77.87,10.51,10.51,0,0,1,3.66,2.43,10.76,10.76,0,0,1,2.33,3.71,13.14,13.14,0,0,1,.82,4.71,14.74,14.74,0,0,1-1.12,5.8,16.53,16.53,0,0,1-3,4.72A17.11,17.11,0,0,1,37,57.91v6.33a0.92,0.92,0,0,1-.4.86,1.75,1.75,0,0,1-.94.25,3.14,3.14,0,0,1-.84-0.12,3.52,3.52,0,0,1-.76-0.3,2.15,2.15,0,0,1-.56-0.43A0.77,0.77,0,0,1,33.28,64V38.85Z" transform="translate(-24.53 -30.39)"/>
    <path d="M63.13,50a8.85,8.85,0,0,1-.46,2.74,9.64,9.64,0,0,1-1.36,2.66,10.47,10.47,0,0,1-2.23,2.25A9.57,9.57,0,0,1,56,59.2a5.37,5.37,0,0,0,.62,1.16,4.11,4.11,0,0,0,.93.95,4.4,4.4,0,0,0,1.25.63,5.3,5.3,0,0,0,1.65.23,5.15,5.15,0,0,0,2.41-.53,5.27,5.27,0,0,0,1.7-1.39,7.46,7.46,0,0,0,1.11-1.95,12.34,12.34,0,0,0,.63-2.18A1.45,1.45,0,0,1,67,55.06a1.37,1.37,0,0,1,1-.13,1.79,1.79,0,0,1,.91.6,1.38,1.38,0,0,1,.32,1.09A16.38,16.38,0,0,1,69,58.28a10,10,0,0,1-.67,1.9,10.62,10.62,0,0,1-1.14,1.89,7.77,7.77,0,0,1-1.7,1.65,8.59,8.59,0,0,1-2.37,1.17,10,10,0,0,1-3.12.45,8.13,8.13,0,0,1-3.18-.64,8.24,8.24,0,0,1-2.72-1.85,9,9,0,0,1-1.9-3,10.66,10.66,0,0,1-.71-4,13.68,13.68,0,0,1,.63-4.23,12.12,12.12,0,0,1,1.66-3.39A8.23,8.23,0,0,1,56.1,46a5.08,5.08,0,0,1,2.7-.81,4.51,4.51,0,0,1,1.82.35,3.81,3.81,0,0,1,1.37,1,4.39,4.39,0,0,1,.86,1.54A6.27,6.27,0,0,1,63.13,50ZM55.4,55.7a3.82,3.82,0,0,0,0,.42,4,4,0,0,1,0,.45,6.64,6.64,0,0,0,1.62-1.08A6.76,6.76,0,0,0,58.31,54a7.33,7.33,0,0,0,.8-1.84,7.6,7.6,0,0,0,.28-2.07,2.4,2.4,0,0,0-.27-1.24,0.83,0.83,0,0,0-.74-0.45,1.54,1.54,0,0,0-1,.4,3.57,3.57,0,0,0-.8,1A7.22,7.22,0,0,0,56,51.29q-0.22.81-.36,1.63a14.79,14.79,0,0,0-.19,1.56A11.43,11.43,0,0,0,55.4,55.7Z" transform="translate(-24.53 -30.39)"/>
    <path d="M77.38,50a8.85,8.85,0,0,1-.46,2.74,9.64,9.64,0,0,1-1.36,2.66,10.47,10.47,0,0,1-2.23,2.25,9.57,9.57,0,0,1-3.06,1.51,5.37,5.37,0,0,0,.62,1.16,4.11,4.11,0,0,0,.93.95,4.4,4.4,0,0,0,1.25.63,5.3,5.3,0,0,0,1.65.23,5.15,5.15,0,0,0,2.41-.53,5.27,5.27,0,0,0,1.7-1.39A7.46,7.46,0,0,0,80,58.3a12.34,12.34,0,0,0,.63-2.18,1.45,1.45,0,0,1,.67-1.07,1.37,1.37,0,0,1,1-.13,1.79,1.79,0,0,1,.91.6,1.38,1.38,0,0,1,.32,1.09,16.38,16.38,0,0,1-.32,1.66,10,10,0,0,1-.67,1.9,10.62,10.62,0,0,1-1.14,1.89,7.77,7.77,0,0,1-1.7,1.65,8.59,8.59,0,0,1-2.37,1.17,10,10,0,0,1-3.12.45A8.13,8.13,0,0,1,71,64.69a8.24,8.24,0,0,1-2.72-1.85,9,9,0,0,1-1.9-3,10.66,10.66,0,0,1-.71-4,13.68,13.68,0,0,1,.63-4.23A12.12,12.12,0,0,1,68,48.23,8.23,8.23,0,0,1,70.35,46a5.08,5.08,0,0,1,2.7-.81,4.51,4.51,0,0,1,1.82.35,3.81,3.81,0,0,1,1.37,1,4.39,4.39,0,0,1,.86,1.54A6.27,6.27,0,0,1,77.38,50ZM69.65,55.7a3.82,3.82,0,0,0,0,.42,4,4,0,0,1,0,.45,6.64,6.64,0,0,0,1.62-1.08A6.76,6.76,0,0,0,72.56,54a7.33,7.33,0,0,0,.8-1.84,7.6,7.6,0,0,0,.28-2.07,2.4,2.4,0,0,0-.27-1.24,0.83,0.83,0,0,0-.74-0.45,1.54,1.54,0,0,0-1,.4,3.57,3.57,0,0,0-.8,1,7.22,7.22,0,0,0-.56,1.45q-0.22.81-.36,1.63a14.79,14.79,0,0,0-.19,1.56A11.43,11.43,0,0,0,69.65,55.7Z" transform="translate(-24.53 -30.39)"/>
    <path d="M83.31,57.41a1.17,1.17,0,0,1-.7.93,1.39,1.39,0,0,1-1,0,1.87,1.87,0,0,1-.84-0.73,1.39,1.39,0,0,1-.2-1.12,32.08,32.08,0,0,1,1-3.53l1.32-3.86A5.78,5.78,0,0,1,82.33,48a3.22,3.22,0,0,1-.21-1.16,2.28,2.28,0,0,1,.46-1.28,6.52,6.52,0,0,1,1.1-1.23A7,7,0,0,1,85,43.39,2.65,2.65,0,0,1,86.2,43a1.51,1.51,0,0,1,1.3.59,2.58,2.58,0,0,1,.43,1.57,3.35,3.35,0,0,1-.18,1.07,9.57,9.57,0,0,1-.39,1Q87.16,47.69,87,48a2.64,2.64,0,0,0-.2.42,20,20,0,0,0,1.76,2.65q0.91,1.15,1.68,2.27a12,12,0,0,1,1.25,2.39,8.19,8.19,0,0,1,.49,3,6.65,6.65,0,0,1-.06.87,5.56,5.56,0,0,1-.18.84,5.14,5.14,0,0,0,1.49-.52,5.31,5.31,0,0,0,1.13-.81,4.56,4.56,0,0,0,.8-1A6.7,6.7,0,0,0,95.67,57a3.49,3.49,0,0,1,.52-1,0.76,0.76,0,0,1,.59-0.3,1.16,1.16,0,0,1,.62.2,2.29,2.29,0,0,1,.56.5,3.06,3.06,0,0,1,.4.63,1.42,1.42,0,0,1,.15.59,2.44,2.44,0,0,1-.19.84,6.06,6.06,0,0,1-.5,1,8.64,8.64,0,0,1-.71,1,6.37,6.37,0,0,1-.82.83,10.38,10.38,0,0,1-2.65,1.54,12.47,12.47,0,0,1-3.77.79,7.3,7.3,0,0,1-2.05,1.23,7,7,0,0,1-2.66.48,6.6,6.6,0,0,1-1.54-.19,10.19,10.19,0,0,1-1.5-.48,9.61,9.61,0,0,1-1.3-.64,4.87,4.87,0,0,1-.94-0.7,4,4,0,0,1-1.15-1.7,3.23,3.23,0,0,1-.13-1.54A2.33,2.33,0,0,1,79.1,59a1,1,0,0,1,.77-0.43,2.31,2.31,0,0,1,.74.2q0.5,0.2,1.16.52l1.43,0.67q0.77,0.35,1.55.67a12.82,12.82,0,0,0,1.51.52,5.21,5.21,0,0,0,1.35.2,4.82,4.82,0,0,0,.73-1.24,4.28,4.28,0,0,0,.33-1.69,6.87,6.87,0,0,0-.3-2.09,8.36,8.36,0,0,0-.8-1.78A10.83,10.83,0,0,0,86.44,53q-0.62-.71-1.25-1.35-0.56,1.38-1,2.73T83.31,57.41Z" transform="translate(-24.53 -30.39)"/>
    <path d="M95.9,34.42a3.28,3.28,0,0,0-.08-0.82,3.05,3.05,0,0,0-.16-0.48,1.49,1.49,0,0,0-.16-0.28,0.36,0.36,0,0,1-.08-0.22,0.28,0.28,0,0,1,.14-0.23,1.41,1.41,0,0,1,.38-0.16,3.19,3.19,0,0,1,.5-0.11,4.08,4.08,0,0,1,.53,0,2.72,2.72,0,0,1,1.89.62,1.93,1.93,0,0,1,.69,1.49v15q0.59-.8,1.23-1.51a10.75,10.75,0,0,1,1.35-1.27,6.63,6.63,0,0,1,1.46-.88,3.92,3.92,0,0,1,4.83,1.27,5,5,0,0,1,.77,1.65,7.74,7.74,0,0,1-.2,4.52,9.82,9.82,0,0,1-1.12,2.19,11.33,11.33,0,0,1-1.49,1.76,13.86,13.86,0,0,1-1.54,1.29,8.65,8.65,0,0,0,.46,1.49A5.75,5.75,0,0,0,106,61a3.38,3.38,0,0,0,1,.89,2.4,2.4,0,0,0,1.25.33,2.61,2.61,0,0,0,1.54-.5A5.41,5.41,0,0,0,111,60.4a8.19,8.19,0,0,0,.93-1.66,9.39,9.39,0,0,0,.54-1.7,2.22,2.22,0,0,1,.43-1.05,1,1,0,0,1,.63-0.36,1.11,1.11,0,0,1,.69.18,2.15,2.15,0,0,1,.61.55,2.42,2.42,0,0,1,.39.76,1.47,1.47,0,0,1,0,.8,22.13,22.13,0,0,1-.94,2.25,11.87,11.87,0,0,1-1.55,2.44,9,9,0,0,1-2.2,1.95,5.34,5.34,0,0,1-2.91.8,4.74,4.74,0,0,1-2.57-.73,7.4,7.4,0,0,1-2-1.83,8.52,8.52,0,0,1-1.28-2.41,7.8,7.8,0,0,1-.45-2.51,1.19,1.19,0,0,1,.33-0.76,9.22,9.22,0,0,1,.83-0.84q0.5-.46,1.08-1A9.57,9.57,0,0,0,104.72,54a6.76,6.76,0,0,0,.83-1.58,5.63,5.63,0,0,0,.33-2,2.31,2.31,0,0,0-.43-1.45,1.35,1.35,0,0,0-1.11-.56,2.28,2.28,0,0,0-1,.32,4.49,4.49,0,0,0-1.25,1.09,10.89,10.89,0,0,0-1.31,2.05A18.58,18.58,0,0,0,99.53,55v8.25q0,0.35,0,.71a1.76,1.76,0,0,1-.14.66,1.21,1.21,0,0,1-.4.49,1.31,1.31,0,0,1-.79.2,3.9,3.9,0,0,1-.76-0.08,2.11,2.11,0,0,1-.75-0.3,1.71,1.71,0,0,1-.56-0.63,2.29,2.29,0,0,1-.22-1.09V34.42Z" transform="translate(-24.53 -30.39)"/>
    <path d="M115.24,40.91a2.71,2.71,0,0,1-1.11-.23,2.9,2.9,0,0,1-.91-0.63,3.16,3.16,0,0,1-.62-0.93,2.77,2.77,0,0,1-.23-1.14,2.91,2.91,0,0,1,.23-1.17,3,3,0,0,1,.62-0.93,2.88,2.88,0,0,1,2-.83,3,3,0,0,1,1.17.22,2.75,2.75,0,0,1,1.54,1.54,3,3,0,0,1,.22,1.17,2.89,2.89,0,0,1-.22,1.14,3,3,0,0,1-.61.93,2.87,2.87,0,0,1-.93.63A2.91,2.91,0,0,1,115.24,40.91ZM116.34,60q0,0.16,0,.53a3.15,3.15,0,0,0,.14.74,1.72,1.72,0,0,0,.38.66,0.94,0.94,0,0,0,.73.28,1.71,1.71,0,0,0,1.23-.52,4.76,4.76,0,0,0,.91-1.29,9.69,9.69,0,0,0,.64-1.68q0.26-.9.42-1.7a2.22,2.22,0,0,1,.43-1.05,1,1,0,0,1,.63-0.36,1.06,1.06,0,0,1,.68.18,2.38,2.38,0,0,1,.61.55,2.29,2.29,0,0,1,.4.76,1.47,1.47,0,0,1,0,.8,23.29,23.29,0,0,1-.86,2.51,10.7,10.7,0,0,1-1.35,2.41,7.31,7.31,0,0,1-2,1.83,4.93,4.93,0,0,1-2.7.73A3.88,3.88,0,0,1,115,65a3.81,3.81,0,0,1-1.27-1,4.23,4.23,0,0,1-.79-1.43,5.52,5.52,0,0,1-.27-1.73V48a3.29,3.29,0,0,0-.11-1,1.73,1.73,0,0,1-.11-0.56,0.66,0.66,0,0,1,.38-0.57,1.71,1.71,0,0,1,.89-0.22,2.72,2.72,0,0,1,1.89.62,1.93,1.93,0,0,1,.69,1.49V60Z" transform="translate(-24.53 -30.39)"/>
    <path d="M131.46,57a2.11,2.11,0,0,1,.43-1,1,1,0,0,1,.63-0.35,1.15,1.15,0,0,1,.69.16,2.06,2.06,0,0,1,.61.53,2.3,2.3,0,0,1,.39.74,1.5,1.5,0,0,1,0,.81,22.13,22.13,0,0,1-.94,2.25,11.87,11.87,0,0,1-1.55,2.44,9,9,0,0,1-2.2,1.95,5.34,5.34,0,0,1-2.91.8,6.08,6.08,0,0,1-2.44-.46,4.82,4.82,0,0,1-1.77-1.29,5.57,5.57,0,0,1-1.08-2A8.64,8.64,0,0,1,121,59V37.16a8.6,8.6,0,0,1,.34-2.47,6.26,6.26,0,0,1,.94-1.95,4.55,4.55,0,0,1,1.39-1.27,3.34,3.34,0,0,1,1.69-.46,3.75,3.75,0,0,1,1.78.39,3.52,3.52,0,0,1,1.2,1,5.09,5.09,0,0,1,.74,1.45,9.48,9.48,0,0,1,.39,1.68,15.68,15.68,0,0,1,.14,1.69q0,0.83,0,1.51a22.08,22.08,0,0,1-.33,3.69q-0.33,1.93-.83,3.81t-1.1,3.6q-0.6,1.72-1.15,3.06t-1,2.18a4.44,4.44,0,0,1-.6,1v2.79a4.25,4.25,0,0,0,.61,2.38,2.16,2.16,0,0,0,1.95.93,2.61,2.61,0,0,0,1.54-.5A5.41,5.41,0,0,0,130,60.4a8.19,8.19,0,0,0,.93-1.66A9.39,9.39,0,0,0,131.46,57Zm-6.82-7.24a7.54,7.54,0,0,0,.5-1.32q0.25-.83.47-1.84T126,44.52q0.19-1.1.33-2.16t0.22-2q0.08-.93.08-1.58a12.65,12.65,0,0,0-.35-3.5,1.24,1.24,0,0,0-.94-1.11,0.41,0.41,0,0,0-.33.19,1.62,1.62,0,0,0-.23.48,3.13,3.13,0,0,0-.13.63,6.08,6.08,0,0,0,0,.62V49.8Z" transform="translate(-24.53 -30.39)"/>
    <path d="M142,57a2.11,2.11,0,0,1,.43-1,1,1,0,0,1,.63-0.35,1.15,1.15,0,0,1,.69.16,2.06,2.06,0,0,1,.61.53,2.3,2.3,0,0,1,.39.74,1.5,1.5,0,0,1,0,.81,22.13,22.13,0,0,1-.94,2.25,11.87,11.87,0,0,1-1.55,2.44,9,9,0,0,1-2.2,1.95,5.34,5.34,0,0,1-2.91.8,6.08,6.08,0,0,1-2.44-.46A4.82,4.82,0,0,1,133,63.59a5.57,5.57,0,0,1-1.08-2,8.64,8.64,0,0,1-.36-2.59V37.16a8.6,8.6,0,0,1,.34-2.47,6.26,6.26,0,0,1,.94-1.95,4.55,4.55,0,0,1,1.39-1.27,3.34,3.34,0,0,1,1.69-.46,3.75,3.75,0,0,1,1.78.39,3.52,3.52,0,0,1,1.2,1,5.09,5.09,0,0,1,.74,1.45,9.48,9.48,0,0,1,.39,1.68,15.68,15.68,0,0,1,.14,1.69q0,0.83,0,1.51a22.08,22.08,0,0,1-.33,3.69q-0.33,1.93-.83,3.81t-1.1,3.6q-0.6,1.72-1.15,3.06t-1,2.18a4.44,4.44,0,0,1-.6,1v2.79a4.25,4.25,0,0,0,.61,2.38,2.16,2.16,0,0,0,1.95.93,2.61,2.61,0,0,0,1.54-.5,5.41,5.41,0,0,0,1.27-1.27,8.19,8.19,0,0,0,.93-1.66A9.39,9.39,0,0,0,142,57Zm-6.82-7.24a7.54,7.54,0,0,0,.5-1.32q0.25-.83.47-1.84t0.41-2.11q0.19-1.1.33-2.16t0.22-2q0.08-.93.08-1.58a12.65,12.65,0,0,0-.35-3.5,1.24,1.24,0,0,0-.94-1.11,0.41,0.41,0,0,0-.33.19,1.62,1.62,0,0,0-.23.48,3.13,3.13,0,0,0-.13.63,6.08,6.08,0,0,0,0,.62V49.8Z" transform="translate(-24.53 -30.39)"/>
    <path d="M153.18,50a8.85,8.85,0,0,1-.46,2.74,9.64,9.64,0,0,1-1.36,2.66,10.47,10.47,0,0,1-2.23,2.25,9.57,9.57,0,0,1-3.06,1.51,5.37,5.37,0,0,0,.62,1.16,4.11,4.11,0,0,0,.93.95,4.4,4.4,0,0,0,1.25.63,5.3,5.3,0,0,0,1.65.23,5.15,5.15,0,0,0,2.41-.53,5.27,5.27,0,0,0,1.7-1.39,7.46,7.46,0,0,0,1.11-1.95,12.34,12.34,0,0,0,.63-2.18,1.45,1.45,0,0,1,.67-1.07,1.37,1.37,0,0,1,1-.13,1.79,1.79,0,0,1,.91.6,1.38,1.38,0,0,1,.32,1.09,16.38,16.38,0,0,1-.32,1.66,10,10,0,0,1-.67,1.9,10.62,10.62,0,0,1-1.14,1.89,7.77,7.77,0,0,1-1.7,1.65,8.59,8.59,0,0,1-2.37,1.17,10,10,0,0,1-3.12.45,8.13,8.13,0,0,1-3.18-.64,8.24,8.24,0,0,1-2.72-1.85,9,9,0,0,1-1.9-3,10.66,10.66,0,0,1-.71-4,13.68,13.68,0,0,1,.63-4.23,12.12,12.12,0,0,1,1.66-3.39A8.23,8.23,0,0,1,146.15,46a5.08,5.08,0,0,1,2.7-.81,4.51,4.51,0,0,1,1.82.35,3.81,3.81,0,0,1,1.37,1,4.39,4.39,0,0,1,.86,1.54A6.27,6.27,0,0,1,153.18,50Zm-7.73,5.67a3.82,3.82,0,0,0,0,.42,4,4,0,0,1,0,.45,6.64,6.64,0,0,0,1.62-1.08,6.76,6.76,0,0,0,1.24-1.5,7.33,7.33,0,0,0,.8-1.84,7.6,7.6,0,0,0,.28-2.07,2.4,2.4,0,0,0-.27-1.24,0.83,0.83,0,0,0-.74-0.45,1.54,1.54,0,0,0-1,.4,3.57,3.57,0,0,0-.8,1,7.22,7.22,0,0,0-.56,1.45q-0.22.81-.36,1.63a14.79,14.79,0,0,0-.19,1.56A11.43,11.43,0,0,0,145.45,55.7Z" transform="translate(-24.53 -30.39)"/>
    <path d="M152.06,41.43q0.54,0,1.2.07t1.36,0.06l1.78,0V33.46a3.28,3.28,0,0,0-.08-0.82,3.05,3.05,0,0,0-.16-0.48,1.49,1.49,0,0,0-.16-0.28,0.36,0.36,0,0,1-.08-0.22,0.28,0.28,0,0,1,.14-0.23,1.41,1.41,0,0,1,.38-0.16,3.19,3.19,0,0,1,.5-0.11,4.08,4.08,0,0,1,.53,0,2.72,2.72,0,0,1,1.89.62,1.93,1.93,0,0,1,.69,1.49v8.41q2.2,0,4.65,0t4.91-.16a0.52,0.52,0,0,1,.53-0.26,0.55,0.55,0,0,1,.26.45,3.48,3.48,0,0,1,0,.87,5.22,5.22,0,0,1-.19,1,2.82,2.82,0,0,1-.39.83,0.69,0.69,0,0,1-.55.35q-2.88.07-5.1,0.08H160V60a2.57,2.57,0,0,0,.45,1.69,1.5,1.5,0,0,0,1.2.52,1.73,1.73,0,0,0,1.25-.52,4.76,4.76,0,0,0,.91-1.29,9.08,9.08,0,0,0,.63-1.68q0.25-.9.41-1.7a2.11,2.11,0,0,1,.47-1.09,1,1,0,0,1,.68-0.34,1.17,1.17,0,0,1,.59.18,2.17,2.17,0,0,1,.55.46,2.41,2.41,0,0,1,.4.63,1.76,1.76,0,0,1,.15.7v0.12a0.74,0.74,0,0,1,0,.21,20,20,0,0,1-.83,2.51,10.45,10.45,0,0,1-1.36,2.41,7.47,7.47,0,0,1-2,1.83,4.93,4.93,0,0,1-2.7.73A5.16,5.16,0,0,1,159,65a3.45,3.45,0,0,1-1.39-.94,4.48,4.48,0,0,1-.91-1.65,7.93,7.93,0,0,1-.33-2.44V44.76H155l-1,0-0.87,0a1.29,1.29,0,0,1-1-.5,2.94,2.94,0,0,1-.61-1.11,2.1,2.1,0,0,1,0-1.11A0.61,0.61,0,0,1,152.06,41.43Z" transform="translate(-24.53 -30.39)"/>
  </g>
</symbol><symbol id="rss-plain" viewBox="0 0 24 24"><path d="M6.503 20.752c0 1.794-1.456 3.248-3.251 3.248-1.796 0-3.252-1.454-3.252-3.248 0-1.794 1.456-3.248 3.252-3.248 1.795.001 3.251 1.454 3.251 3.248zm-6.503-12.572v4.811c6.05.062 10.96 4.966 11.022 11.009h4.817c-.062-8.71-7.118-15.758-15.839-15.82zm0-3.368c10.58.046 19.152 8.594 19.183 19.188h4.817c-.03-13.231-10.755-23.954-24-24v4.812z"/></symbol><symbol id="so-plain" viewBox="0 0 24 24"><path d="M15 21h-10v-2h10v2zm6-11.665l-1.621-9.335-1.993.346 1.62 9.335 1.994-.346zm-5.964 6.937l-9.746-.975-.186 2.016 9.755.879.177-1.92zm.538-2.587l-9.276-2.608-.526 1.954 9.306 2.5.496-1.846zm1.204-2.413l-8.297-4.864-1.029 1.743 8.298 4.865 1.028-1.744zm1.866-1.467l-5.339-7.829-1.672 1.14 5.339 7.829 1.672-1.14zm-2.644 4.195v8h-12v-8h-2v10h16v-10h-2z"/></symbol></svg><!-- endinject -->
</div>

    
      <header class="site-header" role="banner" data-page="Creating Reusable Jersey Extensions (Features)">
  <div class="topbar post-topbar">
    <div class="site-constraint">
      <a class="topbar-logo" href="/" title="Home Page">
        <svg class="topbar-logo-svg">
          <use xlink:href="#pio-logo"></use>
        </svg>
      </a>
      <nav class="topbar-nav-wrapper">
        <span class="topbar-nav-label" role="button" tabindex="0">Menu</span>
        <ul class="topbar-nav collapse">
          <li>
            <a class="topbar-nav-item"
                href="/"
                title="Home">
              Home
            </a>
          </li>
          <li>
            <a class="topbar-nav-item"
                href="/archive/"
                title="Archive">
              Archive
            </a>
          </li>
          <li>
            <a class="topbar-nav-item"
                href="/contact/"
                title="Contact">
              Contact
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </div>
</header>

    

    <div class="main-content">
      <section class="post" itemscope itemtype="http://schema.org/BlogPosting">

  <div class="post-banner"
       style="background-image: linear-gradient(to bottom, rgba(0,0,0,0) 0%,rgba(0,0,0,0.01) 2%,#29383E 100%), url('/assets/images/underground-tunnel-lg.jpg')">
  
    <div class="post-banner-container">
      <div class="post-title">
        <h1 class="post-title-text">Creating Reusable Jersey Extensions (Features)</h1>
      </div>
      <h2 class="post-subtitle">
        by<span class="post-author" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <span itemprop="name"><b>Paul Samsotha</b></span> on
        </span>
        <time class="post-date" datetime="2015-10-23T00:00:00-07:00" itemprop="datePublished">
          Oct 23, 2015
        </time> 
      </h2>
    </div>
  </div>

  <div class="ad-top-banner">
  
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <ins class="adsbygoogle"
        style="display:inline-block;width:728px;height:90px"
        data-ad-client="ca-pub-5723433679253306"
        data-ad-slot="4390426910"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
  
</div>


  <article class="post-content">

    <p>When developing in Jersey, you may find yourself reusing some components for different projects, or you would like to share your components with the world to use. In either case, it is likely the components will need to be configured to suit the user’s needs. In this article I will show a pattern of how to create these reusable components and to package them up into easily usable and configurable features.</p>

<div class="in-article-ad">
  <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <ins class="adsbygoogle" style="display:block; text-align:center;" data-ad-layout="in-article" data-ad-format="fluid" data-ad-client="ca-pub-5723433679253306" data-ad-slot="5406098871"></ins>
  <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

<p>The pattern I will be describing is the pattern used by most of the features in Jersey. For example, you might find yourself doing this</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">register</span><span class="o">(</span><span class="n">SomeFeature</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">property</span><span class="o">(</span><span class="n">SomeFeature</span><span class="o">.</span><span class="na">SOME_PROPERTY</span><span class="o">,</span> <span class="kc">false</span><span class="o">);</span>
<span class="n">property</span><span class="o">(</span><span class="n">SomeFeature</span><span class="o">.</span><span class="na">ANOTHER_PROPERTY</span><span class="o">,</span> <span class="kc">true</span><span class="o">);</span>
</code></pre></div></div>

<p>Here we are registering the <code class="highlighter-rouge">SomeFeature</code> and setting configuration properties on that feature. This is the usability pattern we will follow in the example I describe in this article.</p>

<p>The example we will use is an API key feature that allows clients to obtain a API key to use your APIs. Do note that the implementation should probably not be used in the real world. I put more thought into creating the framework components and making them fit, than into any security good practices.</p>

<p>So these are the requirements we will try to meet.</p>

<ul>
  <li>When a client tries to access an endpoint, if a API key header is not set with a valid key, the client will get sent an Unauthorized response.</li>
  <li>The client can obtain a key from an endpoint created by the feature.</li>
</ul>

<p>For the first of the bullet points we will use a <code class="highlighter-rouge">ContainerRequestFilter</code>. For the second point, we will create an endpoint class just like any other resource class you create in Jersey.</p>

<p><strong>Configurables</strong></p>

<ul>
  <li>The user should be able to configure how the key is generated.</li>
  <li>The user should be to configure their own data access.</li>
  <li>The user should be able to configure the API key endpoint URI.</li>
  <li>The user should be able to configure the header name the key should come in.</li>
  <li>The user should be able to add test data to a default (in-memory) data store.</li>
</ul>

<p>All the code examples can be found in <a href="https://github.com/psamsotha/jersey-extensions">the GitHub project</a>. The code discussed here will be from the <a href="https://github.com/psamsotha/jersey-extensions/tree/master/jersey-extension-framework">jersey-extension-framework</a> child project, and the client of the feature project can be found in the <a href="https://github.com/psamsotha/jersey-extensions/tree/master/jersey-extension-client">jersey-extension-client</a> child project</p>

<p>The first component we will introduce is the <code class="highlighter-rouge">ClientStore</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">ClientStore</span> <span class="o">{</span>
    <span class="kt">void</span> <span class="nf">saveClient</span><span class="o">(</span><span class="n">ClientDetails</span> <span class="n">clientDetails</span><span class="o">);</span>
    <span class="n">ClientDetails</span> <span class="nf">getClientById</span><span class="o">(</span><span class="n">String</span> <span class="n">clientId</span><span class="o">);</span>
    <span class="n">ClientDetails</span> <span class="nf">getClientByApiKey</span><span class="o">(</span><span class="n">String</span> <span class="n">apiKey</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>These methods will allow the feature to lookup clients from the data store, and to save clients. There is a default implementation (<code class="highlighter-rouge">DefaulClientStore</code>) provided that will just save to a <code class="highlighter-rouge">ConcurrentHashMap</code>. The user of the feature can use this default just to test, but will want to provide their own implementation that will actual store the data to a persistent store.</p>

<p>The <code class="highlighter-rouge">ClientDetails</code> is a simple domain model that has three properties.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">class</span> <span class="nc">ClientDetails</span> <span class="o">{</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">clientId</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">clientPassHash</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">apiKey</span><span class="o">;</span>
    <span class="c1">// getters and setters</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The next component is the <code class="highlighter-rouge">ApiKeyFilter</code>, which is a <code class="highlighter-rouge">ContainerRequestFilter</code>. This will filter out the requests to check for API keys</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">final</span> <span class="kd">class</span> <span class="nc">ApiKeyFilter</span> <span class="kd">implements</span> <span class="n">ContainerRequestFilter</span> <span class="o">{</span>
    
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">authEndpoint</span><span class="o">;</span>
    <span class="kd">private</span> <span class="kd">final</span> <span class="n">String</span> <span class="n">apiKeyHeader</span><span class="o">;</span>
    
    <span class="nd">@Inject</span>
    <span class="kd">private</span> <span class="n">ClientStore</span> <span class="n">clientStore</span><span class="o">;</span>
    
    <span class="kd">public</span> <span class="nf">ApiKeyFilter</span><span class="o">(</span><span class="n">String</span> <span class="n">authEndpoint</span><span class="o">,</span> <span class="n">String</span> <span class="n">apiKeyHeader</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">authEndpoint</span> <span class="o">=</span> <span class="n">authEndpoint</span><span class="o">;</span>
        <span class="k">this</span><span class="o">.</span><span class="na">apiKeyHeader</span> <span class="o">=</span> <span class="n">apiKeyHeader</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">filter</span><span class="o">(</span><span class="n">ContainerRequestContext</span> <span class="n">requestContext</span><span class="o">)</span> <span class="kd">throws</span> <span class="n">IOException</span> <span class="o">{</span>
        <span class="n">String</span> <span class="n">requestUri</span> <span class="o">=</span> <span class="n">requestContext</span><span class="o">.</span><span class="na">getUriInfo</span><span class="o">().</span><span class="na">getRequestUri</span><span class="o">().</span><span class="na">toString</span><span class="o">();</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">requestUri</span><span class="o">.</span><span class="na">endsWith</span><span class="o">(</span><span class="n">authEndpoint</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">return</span><span class="o">;</span>
        <span class="o">}</span>
        
        <span class="n">String</span> <span class="n">keyValue</span> <span class="o">=</span> <span class="n">requestContext</span><span class="o">.</span><span class="na">getHeaderString</span><span class="o">(</span><span class="n">apiKeyHeader</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">keyValue</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">WebApplicationException</span><span class="o">(</span><span class="n">Response</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">UNAUTHORIZED</span><span class="o">);</span>
        <span class="o">}</span>
        
        <span class="n">ClientDetails</span> <span class="n">client</span> <span class="o">=</span> <span class="n">clientStore</span><span class="o">.</span><span class="na">getClientByApiKey</span><span class="o">(</span><span class="n">keyValue</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">WebApplicationException</span><span class="o">(</span><span class="n">Response</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">UNAUTHORIZED</span><span class="o">);</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>As stated earlier, the API key endpoint is configurable, and so it the API key header. So we provide those in a dependencies through the constructor. In th <code class="highlighter-rouge">filter</code> method we check three things</p>

<ol>
  <li>If the request is to the API key endpoint, we let it through.</li>
  <li>If the API key is missing, the client will get an Unauthorized response.</li>
  <li>If the client can’t be found through the API key, they will also get an Unauthorized response.</li>
</ol>

<p>The next component we will create the <code class="highlighter-rouge">ApiKeyEndpoint</code>. This is the endpoint requested to get a key.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Path</span><span class="o">(</span><span class="n">ApiKeyFeature</span><span class="o">.</span><span class="na">DEFAULT_URI</span><span class="o">)</span>
<span class="nd">@Produces</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">APPLICATION_JSON</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">ApiKeyEndpoint</span> <span class="o">{</span>
    
    <span class="nd">@Inject</span>
    <span class="kd">private</span> <span class="n">KeyGenerator</span> <span class="n">keyGenerator</span><span class="o">;</span>
    
    <span class="nd">@Inject</span>
    <span class="kd">private</span> <span class="n">ClientStore</span> <span class="n">clientStore</span><span class="o">;</span>

    <span class="kd">private</span> <span class="n">Response</span> <span class="nf">getApiKey</span><span class="o">(</span><span class="n">ClientPostInfo</span> <span class="n">clientInfo</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ClientDetails</span> <span class="n">client</span> <span class="o">=</span> <span class="n">clientStore</span><span class="o">.</span><span class="na">getClientById</span><span class="o">(</span><span class="n">clientInfo</span><span class="o">.</span><span class="na">clientId</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(</span><span class="n">client</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">WebApplicationException</span><span class="o">(</span><span class="n">Response</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">UNAUTHORIZED</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">String</span> <span class="n">hash</span> <span class="o">=</span> <span class="n">noOpHash</span><span class="o">(</span><span class="n">clientInfo</span><span class="o">.</span><span class="na">clientPass</span><span class="o">);</span>
        <span class="k">if</span> <span class="o">(!</span><span class="n">client</span><span class="o">.</span><span class="na">getClientPassHash</span><span class="o">().</span><span class="na">equals</span><span class="o">(</span><span class="n">hash</span><span class="o">))</span> <span class="o">{</span>
            <span class="k">throw</span> <span class="k">new</span> <span class="nf">WebApplicationException</span><span class="o">(</span><span class="n">Response</span><span class="o">.</span><span class="na">Status</span><span class="o">.</span><span class="na">UNAUTHORIZED</span><span class="o">);</span>
        <span class="o">}</span>
        <span class="n">String</span> <span class="n">apiKey</span> <span class="o">=</span> <span class="n">keyGenerator</span><span class="o">.</span><span class="na">generateKey</span><span class="o">(</span><span class="n">client</span><span class="o">.</span><span class="na">getClientId</span><span class="o">());</span>
        <span class="n">client</span><span class="o">.</span><span class="na">setApiKey</span><span class="o">(</span><span class="n">apiKey</span><span class="o">);</span>
        <span class="n">clientStore</span><span class="o">.</span><span class="na">saveClient</span><span class="o">(</span><span class="n">client</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">Response</span><span class="o">.</span><span class="na">ok</span><span class="o">(</span><span class="k">new</span> <span class="n">ApiKey</span><span class="o">(</span><span class="n">apiKey</span><span class="o">)).</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>I took out some code for brevity, but you can find the complete code in the project. The main functionality of the endpoint is enclosed in the <code class="highlighter-rouge">getApiKey</code> method. There are actually two resource methods, one to handle <code class="highlighter-rouge">application/json</code> POST data, and one to handle <code class="highlighter-rouge">application/x-www-form-urlencoded</code> POST data. They both make the same call to the <code class="highlighter-rouge">getApiKey</code> method, so I just left them out.</p>

<p>In the <code class="highlighter-rouge">getApiKey</code> method we look up the <code class="highlighter-rouge">ClientDetails</code> from the <code class="highlighter-rouge">ClientStore</code>. If the client is not in the store, they get an <code class="highlighter-rouge">Unauthorized</code> response. In this example we will assume the client it put into the store in some out of band way, so the feature will be so concerned with being able to add clients to the store.</p>

<p>If the client is found, then they will be issued an API key, in JSON form. For example</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span><span class="s2">"apiKey"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="s2">" dj8e2-d2idj-wed32-32jdw"</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>The other thing to note about this class is the <code class="highlighter-rouge">KeyGenerator</code>. This is another interface the user can implements and configure.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">interface</span> <span class="nc">KeyGenerator</span> <span class="o">{</span>
    <span class="n">String</span> <span class="nf">generateKey</span><span class="o">(</span><span class="n">String</span> <span class="n">clientId</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>There is a default one (<code class="highlighter-rouge">UUIDKeyGenerator</code>) that does nothing more than return a random UUID.</p>

<p>These are all the main components involved in the actual <em>functionality</em> of the feature. I tried to keep it sweet and simple. To use the feature the user should be able to do the following</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">property</span><span class="o">(</span><span class="n">ApiKeyFeature</span><span class="o">.</span><span class="na">API_KEY_HEADER</span><span class="o">,</span> <span class="s">"X-API-TOKEN"</span><span class="o">);</span>
<span class="n">property</span><span class="o">(</span><span class="n">ApiKeyFeature</span><span class="o">.</span><span class="na">API_KEY_URI</span><span class="o">,</span> <span class="s">"apikey"</span><span class="o">);</span>
<span class="n">property</span><span class="o">(</span><span class="n">ApiKeyFeature</span><span class="o">.</span><span class="na">CLIENT_STORE_CLASS</span><span class="o">,</span> <span class="n">JpaClientStore</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">property</span><span class="o">(</span><span class="n">ApiKeyFeature</span><span class="o">.</span><span class="na">KEY_GEN_CLASS</span><span class="o">,</span> <span class="n">SomeKeyGenerator</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>

<span class="n">register</span><span class="o">(</span><span class="n">ApiKeyFeature</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
</code></pre></div></div>

<div class="in-article-banner">
  <script async="" src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <!-- Post In Article Leaderboard 1 -->
  <ins class="adsbygoogle" style="display:inline-block;width:728px;height:90px" data-ad-client="ca-pub-5723433679253306" data-ad-slot="7994525776"></ins>
  <script>
  (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>

<p>In this example the user is opting to change the default properties by supplying their own. Hopefully you can figure the use of the first two. The latter two are the two components implemented by the user, and provided to the feature, which overrides the default components. Then the user registers the <code class="highlighter-rouge">ApiKeyFeature</code> which we will described shortly. The thing to note is that we will have defaults for all these properties.</p>

<p>Also if the user wanted to test out the feature just using the <code class="highlighter-rouge">DefaultClientStore</code>, then they would not have to configure the <code class="highlighter-rouge">ApiKeyFeature.CLIENT_STORE_CLASS</code> property. Instead they should use <code class="highlighter-rouge">ApiKeyFeature.INIT_CLIENT_DATA</code> to supply a <code class="highlighter-rouge">List&lt;ClientDetails&gt;</code> as the property value. This will be the initial data to put into the store.</p>

<p>Now here is where the main configuration component comes in, the <code class="highlighter-rouge">ApiKeyFeature</code>. It is a lot of code to put into on code block, so I will go through it piece by piece. So to follow along, you should open up the file.</p>

<p>The first to check out are the couple of helper methods at the bottom of the class.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">T</span> <span class="nf">getValue</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="o">?&gt;</span> <span class="n">properties</span><span class="o">,</span> <span class="n">String</span> <span class="n">key</span><span class="o">,</span> <span class="n">Class</span><span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">type</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">PropertiesHelper</span><span class="o">.</span><span class="na">getValue</span><span class="o">(</span><span class="n">properties</span><span class="o">,</span> <span class="n">key</span><span class="o">,</span> <span class="n">type</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
<span class="o">}</span>

<span class="kd">public</span> <span class="kd">static</span> <span class="o">&lt;</span><span class="n">T</span><span class="o">&gt;</span> <span class="n">T</span> <span class="nf">getValue</span><span class="o">(</span><span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="o">?&gt;</span> <span class="n">properties</span><span class="o">,</span> <span class="n">String</span> <span class="n">key</span><span class="o">,</span> <span class="n">T</span> <span class="n">defaultValue</span><span class="o">)</span> <span class="o">{</span>
    <span class="k">return</span> <span class="n">PropertiesHelper</span><span class="o">.</span><span class="na">getValue</span><span class="o">(</span><span class="n">properties</span><span class="o">,</span> <span class="n">key</span><span class="o">,</span> <span class="n">defaultValue</span><span class="o">,</span> <span class="kc">null</span><span class="o">);</span>
<span class="o">}</span>
</code></pre></div></div>

<p>I just copied these from a different feature in the Jersey project. They just help in obtaining property values from the property map. For example at the beginning of the <code class="highlighter-rouge">configure</code> method, you will see</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Override</span>
<span class="kd">public</span> <span class="kt">boolean</span> <span class="nf">configure</span><span class="o">(</span><span class="n">FeatureContext</span> <span class="n">context</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">Map</span><span class="o">&lt;</span><span class="n">String</span><span class="o">,</span> <span class="n">Object</span><span class="o">&gt;</span> <span class="n">properties</span> <span class="o">=</span> <span class="n">context</span><span class="o">.</span><span class="na">getConfiguration</span><span class="o">().</span><span class="na">getProperties</span><span class="o">();</span>

    <span class="kd">final</span> <span class="n">String</span> <span class="n">apiKeyHeader</span> <span class="o">=</span> <span class="n">getValue</span><span class="o">(</span><span class="n">properties</span><span class="o">,</span> <span class="n">API_KEY_HEADER</span><span class="o">,</span> <span class="n">DEFAULT_KEY_HEADER</span><span class="o">);</span>
    
    <span class="kd">final</span> <span class="n">String</span> <span class="n">apiKeyPath</span> <span class="o">=</span> <span class="n">getValue</span><span class="o">(</span><span class="n">properties</span><span class="o">,</span> <span class="n">API_KEY_URI</span><span class="o">,</span> <span class="n">DEFAULT_URI</span><span class="o">);</span>

    <span class="n">context</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="k">new</span> <span class="n">ApiKeyFilter</span><span class="o">(</span><span class="n">apiKeyPath</span><span class="o">,</span> <span class="n">apiKeyHeader</span><span class="o">));</span>
    <span class="o">...</span>
<span class="o">}</span>
</code></pre></div></div>

<p>When a user set a property in the <code class="highlighter-rouge">ResourceConfig</code> by calling <code class="highlighter-rouge">property(prop, value);</code>, The property gets set the <code class="highlighter-rouge">Configuration</code> properties, that we obtains from the <code class="highlighter-rouge">FeatureContext</code>. Then we look then up with our helper methods, supplying default values. So if the <code class="highlighter-rouge">API_KEY_HEADER</code> is not set, then use the <code class="highlighter-rouge">DEFAULT_KEY_HEADER</code>. Same goes for the <code class="highlighter-rouge">API_KEY_URI</code>. After we obtain these two properties, then we can construct the <code class="highlighter-rouge">ApiKeyFilter</code>, and then register the filter with the application.</p>

<p>Next we are going to programmatically create the <code class="highlighter-rouge">ApiKeyEnpoint</code> resource. This is required because the URI is configurable. When the user provides a different URI from the default, we need to reconstruct the resource model. To do this we will use a combination of a <a href="https://jersey.java.net/apidocs/2.19/jersey/index.html?org/glassfish/jersey/server/model/Resource.Builder.html"><code class="highlighter-rouge">Resource.Builder</code></a> and a <a href="https://jersey.java.net/apidocs/2.19/jersey/index.html?org/glassfish/jersey/server/model/ModelProcessor.html"><code class="highlighter-rouge">ModelProcess</code></a>. Details about using these components is outside the scope of this article. To get more information on programmatically creating resources, I suggest you check out <a href="https://jersey.java.net/documentation/latest/resource-builder.html">Programmatic API for Building Resources</a></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">final</span> <span class="n">Resource</span> <span class="n">apiKeyResource</span>
           <span class="o">=</span> <span class="n">Resource</span><span class="o">.</span><span class="na">builder</span><span class="o">(</span><span class="n">ApiKeyEndpoint</span><span class="o">.</span><span class="na">class</span><span class="o">).</span><span class="na">path</span><span class="o">(</span><span class="n">apiKeyPath</span><span class="o">).</span><span class="na">build</span><span class="o">();</span>
<span class="n">context</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="k">new</span> <span class="n">ApiKeyModelProcessor</span><span class="o">(</span><span class="n">apiKeyResource</span><span class="o">));</span>
<span class="o">[...]</span>
<span class="kd">private</span> <span class="kd">static</span> <span class="kd">class</span> <span class="nc">ApiKeyModelProcessor</span> <span class="kd">implements</span> <span class="n">ModelProcessor</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kd">final</span> <span class="n">Resource</span> <span class="n">apiKeyResource</span><span class="o">;</span>

    <span class="kd">public</span> <span class="nf">ApiKeyModelProcessor</span><span class="o">(</span><span class="n">Resource</span> <span class="n">apiKeyResource</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">apiKeyResource</span> <span class="o">=</span> <span class="n">apiKeyResource</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="nd">@Override</span>
    <span class="kd">public</span> <span class="n">ResourceModel</span> <span class="nf">processResourceModel</span><span class="o">(</span><span class="n">ResourceModel</span> <span class="n">resourceModel</span><span class="o">,</span>
            <span class="n">Configuration</span> <span class="n">config</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">ResourceModel</span><span class="o">.</span><span class="na">Builder</span> <span class="n">builder</span>
                <span class="o">=</span> <span class="k">new</span> <span class="n">ResourceModel</span><span class="o">.</span><span class="na">Builder</span><span class="o">(</span><span class="n">resourceModel</span><span class="o">.</span><span class="na">getResources</span><span class="o">(),</span> <span class="kc">false</span><span class="o">);</span>
        <span class="n">builder</span><span class="o">.</span><span class="na">addResource</span><span class="o">(</span><span class="n">apiKeyResource</span><span class="o">);</span>
        <span class="k">return</span> <span class="n">builder</span><span class="o">.</span><span class="na">build</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The last part of the <code class="highlighter-rouge">Feature</code> configuration is to handle the <code class="highlighter-rouge">KeyGenerator</code> and the <code class="highlighter-rouge">ClientStore</code>.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Class</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">KeyGenerator</span><span class="o">&gt;</span> <span class="n">generatorCls</span> <span class="o">=</span> <span class="n">getValue</span><span class="o">(</span><span class="n">properties</span><span class="o">,</span> <span class="n">KEY_GEN_CLASS</span><span class="o">,</span> <span class="n">Class</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="n">generatorCls</span> <span class="o">=</span> <span class="n">generatorCls</span> <span class="o">==</span> <span class="kc">null</span> <span class="o">?</span> <span class="n">UUIDKeyGenerator</span><span class="o">.</span><span class="na">class</span> <span class="o">:</span> <span class="n">generatorCls</span><span class="o">;</span>

<span class="n">Class</span><span class="o">&lt;?</span> <span class="kd">extends</span> <span class="n">ClientStore</span><span class="o">&gt;</span> <span class="n">clientStoreCls</span> <span class="o">=</span> <span class="n">getValue</span><span class="o">(</span><span class="n">properties</span><span class="o">,</span> <span class="n">CLIENT_STORE_CLASS</span><span class="o">,</span> <span class="n">Class</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
<span class="c1">// Using DefaultClientStore. </span>
<span class="k">if</span> <span class="o">(</span><span class="n">clientStoreCls</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
    <span class="n">DefaultClientStore</span> <span class="n">defaultClientStore</span> <span class="o">=</span> <span class="k">new</span> <span class="n">DefaultClientStore</span><span class="o">();</span>
    <span class="n">List</span><span class="o">&lt;</span><span class="n">ClientDetails</span><span class="o">&gt;</span> <span class="n">db</span> <span class="o">=</span> <span class="n">getValue</span><span class="o">(</span><span class="n">properties</span><span class="o">,</span> <span class="n">INIT_CLIENT_DATA</span><span class="o">,</span> <span class="n">List</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
    <span class="k">if</span> <span class="o">(</span><span class="n">db</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span><span class="s">"Either set ClientStore or init List"</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="k">for</span> <span class="o">(</span><span class="n">ClientDetails</span> <span class="n">c</span> <span class="o">:</span> <span class="n">db</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">defaultClientStore</span><span class="o">.</span><span class="na">saveClient</span><span class="o">(</span><span class="n">c</span><span class="o">);</span>
    <span class="o">}</span>
    <span class="n">context</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="k">new</span> <span class="n">ApiKeyBinder</span><span class="o">(</span><span class="n">defaultClientStore</span><span class="o">,</span> <span class="n">generatorCls</span><span class="o">));</span>
<span class="o">}</span> <span class="k">else</span> <span class="o">{</span>
    <span class="n">context</span><span class="o">.</span><span class="na">register</span><span class="o">(</span><span class="k">new</span> <span class="n">ApiKeyBinder</span><span class="o">(</span><span class="n">clientStoreCls</span><span class="o">,</span> <span class="n">generatorCls</span><span class="o">));</span>
<span class="o">}</span>
</code></pre></div></div>

<p>The first couple of lines set the <code class="highlighter-rouge">KeyGenerator</code> class. If the property is not set, <code class="highlighter-rouge">getValue</code> will return null. In that case we use the default <code class="highlighter-rouge">UUIDKeyGenerator</code>.</p>

<p>For the <code class="highlighter-rouge">ClientStore</code> it will be a bit different. If the user doesn’t set their own <code class="highlighter-rouge">ClientStore</code> implementation, then they can set the <code class="highlighter-rouge">List&lt;ClientDetails&gt;</code> to initialize the <code class="highlighter-rouge">DefaultClientStore</code> with come data. In which case we will use an <em>instance</em> of the <code class="highlighter-rouge">DefaultDataStore</code> instead of the class. This is necessary to initialize the data.</p>

<p>Once we have the <code class="highlighter-rouge">KeyGenerator</code> class and the <code class="highlighter-rouge">ClientStore</code> class or <code class="highlighter-rouge">DefaultClientStore</code> instance, we will register then with an <code class="highlighter-rouge">AbstractBinder</code>, which is used by Jersey’s dependency injection framework HK2 to register the services. These services are injected into both the <code class="highlighter-rouge">ApiKeyFilter</code> and the <code class="highlighter-rouge">ApiKeyEndpoint</code>. To learn more about HK2 and using it with Jersey, see <a href="https://jersey.java.net/documentation/latest/ioc.html">Custom Injection and Lifecycle Management</a></p>

<p>And that’s it for the feature. You can see the test cases in the project. There are two sets of tests. Both of which extend from <code class="highlighter-rouge">BaseApiKeyFeatureTest</code>. One of the test sets use all defaults, while the other uses all configured properties.</p>

<p>You can also see the <code class="highlighter-rouge">jersey-extension-client</code> project to see a real client of the feature in action. It implements the <code class="highlighter-rouge">ClientStore</code> using JPA. Instructions to run the client project are its README.</p>

<p>Hope you enjoyed this article and hope you start building and sharing your new features!</p>



    
<div class="ad-bottom-banner">
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
        style="display:inline-block;width:728px;height:90px"
        data-ad-client="ca-pub-5723433679253306"
        data-ad-slot="1966026244"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
  </script>
</div>


    <div class="support-container">
      <h2>Support Me</h2>
      <p>
        If you found any information in this post useful, please show your support and
        like it, share it, tweet it, pin it, and/or plus one it. Much thanks!
      </p>
    </div>

    <div class="social-share">
  <div class="social-share-item">
    <div class="twitter-tweet">
      <a href="https://twitter.com/share"
        class="twitter-share-button"
        data-show-count="false">Tweet</a>
    </div>
  </div>
  <div class="social-share-item">
    <div class="pinterest-save">
      <a data-pin-do="buttonBookmark"
        data-pin-save="true"
        href="https://www.pinterest.com/pin/create/button/"></a>
    </div>
  </div>
  <div class="social-share-item">
    <div class="fb-like"
        data-href="https://psamsotha.github.io/jersey/2015/10/23/creating-reusable-jersey-extension.html"
        data-width="100px"
        data-layout="button_count"
        data-action="like"
        data-show-faces="false"
        data-share="true"></div>
  </div>
  <div class="social-share-item">
    <div class="google-plusone">
      <div class="g-plusone"
          data-size="tall"
          data-annotation="inline"
          data-width="300"
          data-href="https://psamsotha.github.io/jersey/2015/10/23/creating-reusable-jersey-extension.html">
      </div>
    </div>
  </div> 
</div>

    <div class="recommended-books">
  <h2>Recommended Books</h2>
  <div class="books">
    

    
    <div class="book">
      <a href="https://www.amazon.com/RESTful-Java-JAX-RS-2-0-Distributed/dp/144936134X/ref=as_li_ss_il?s=books&ie=UTF8&qid=1518141512&sr=1-1&keywords=RESTful+Java+with+JAX-RS+2.0&linkCode=li3&tag=psamsothagith-20&linkId=f6f05210313788bb4079e275b6ea4031" target="_blank">
        <img border="0" src="//ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=144936134X&Format=_SL250_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=psamsothagith-20" >
      </a>
      <img src="https://ir-na.amazon-adsystem.com/e/ir?t=psamsothagith-20&l=li3&o=1&a=144936134X" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    </div>
    <div class="book">
      <a href="https://www.amazon.com/Java-Application-Development-Enterprise-applications-ebook/dp/B072MFGRVF/ref=as_li_ss_il?s=books&ie=UTF8&qid=1518141512&sr=1-9-spons&keywords=RESTful+Java+with+JAX-RS+2.0&psc=1&linkCode=li3&tag=psamsothagith-20&linkId=dcf82546007e8a4fb653138030b7b466" target="_blank">
        <img border="0" src="//ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=B072MFGRVF&Format=_SL250_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=psamsothagith-20" >
      </a>
      <img src="https://ir-na.amazon-adsystem.com/e/ir?t=psamsothagith-20&l=li3&o=1&a=B072MFGRVF" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    </div>
    <div class="book">
      <a href="https://www.amazon.com/Java-Angular-practical-single-page-applications/dp/1788291204/ref=as_li_ss_il?s=books&ie=UTF8&qid=1518139816&sr=1-17&keywords=angular&linkCode=li3&tag=psamsothagith-20&linkId=a39f44f60cffde5e5b94e9977b614d3e" target="_blank">
        <img border="0" src="//ws-na.amazon-adsystem.com/widgets/q?_encoding=UTF8&ASIN=1788291204&Format=_SL250_&ID=AsinImage&MarketPlace=US&ServiceVersion=20070822&WS=1&tag=psamsothagith-20" >
      </a>
      <img src="https://ir-na.amazon-adsystem.com/e/ir?t=psamsothagith-20&l=li3&o=1&a=1788291204" width="1" height="1" border="0" alt="" style="border:none !important; margin:0px !important;" />
    </div>
    
  </div>
  
</div>

    <!--
  check for posts in category that are not this post.
  If there are no posts, we should not include the Related Articles
-->



  
    
    


<div class="related-articles">
  <h2>Related Articles</h2>
  <div class="related-articles-group row expanded" data-equalizer>
    
    
      
        <!-- Little hack. Liquid doesn't seem to support counting using assign -->
        <!-- https://github.com/jekyll/jekyll/issues/2141 -->
        <!-- https://github.com/Shopify/liquid/issues/316 -->
        
        <a class="related-article post-details small-12 medium-6 columns clickable"
           href="/jersey/2017/01/07/jersey-pagination-with-spring-data.html" data-equalizer-watch>   
          <h2 class="post-title">                
            Jersey Pagination With Spring Data JPA
          </h2>
          <p class="post-date">January 7, 2017</p>
          <p class="post-description">How we can implement pagination and sorting using Jersey along with Spring Data JPA.</p> 
        </a>
      
      
    
      
        <!-- Little hack. Liquid doesn't seem to support counting using assign -->
        <!-- https://github.com/jekyll/jekyll/issues/2141 -->
        <!-- https://github.com/Shopify/liquid/issues/316 -->
        
        <a class="related-article post-details small-12 medium-6 columns clickable"
           href="/jersey/2015/12/27/jersey-configuration-properties.html" data-equalizer-watch>   
          <h2 class="post-title">                
            Working with Jersey Configuration Properties
          </h2>
          <p class="post-date">December 27, 2015</p>
          <p class="post-description">A few different ways of how we can use configuration properties in a Jersey application.</p> 
        </a>
      
      
        
  </div>
</div>


    <div class="disqus-comments">
      
        <div id="disqus_thread"></div>
<script>
    /**
     *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
     *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
     */
   
    var disqus_config = function () {
        
    };

    (function() {  // DON'T EDIT BELOW THIS LINE
        var d = document, s = d.createElement('script');
        
        s.src = '//peeskillet-io.disqus.com/embed.js';
        
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();

</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
      
    </div>

    <script id="dsq-count-scr" src="//peeskillet-io.disqus.com/count.js" async></script>

    <div class="post-sidebar">
      <div class="ad-sidebar">
  <!-- <div class="ad">
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
          style="display:inline-block;width:300px;height:250px"
          data-ad-client="ca-pub-5723433679253306"
          data-ad-slot="4778752801"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    
  </div>
  <div class="ad">
    
    <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <ins class="adsbygoogle"
         style="display:inline-block;width:300px;height:250px"
         data-ad-client="ca-pub-5723433679253306"
         data-ad-slot="8349815238"></ins>
    <script>
    (adsbygoogle = window.adsbygoogle || []).push({});
    </script>
    
  </div> -->
</div>
    </div>

  </article>

</section>


      <div class="clearfooter"></div>
    </div>

    <footer class="site-footer">
  <div class="site-constraint row">
    <div class="footer-logo small-6 columns">
      <svg class="footer-logo-icon">
        <use xlink:href="#pio-logo"></use>
      </svg>
    </div>
    <div class="footer-social small-6 columns">
      <div class="social-links">
        <ul>
          <li><a href="http://stackoverflow.com/users/2587435/peeskillet">
            <svg class="social-icon">
              <use xlink:href="#so-plain"></use>
            </svg>
          </a></li>
          <li><a href="https://github.com/psamsotha">
            <svg class="social-icon">
              <use xlink:href="#github-plain"></use>
            </svg>
          </a></li>
          <li><a href="/feed.xml">
            <svg class="social-icon">
              <use xlink:href="#rss-plain"></use>
            </svg>
          </a></li>
        </ul>
      </div>
    </div>
  </div>
  <div class="footer-license">
    <p class="license-message">
      This site is open source, licensed under <a href="https://psamsotha.github.io/license">MIT</a>.<br>
      The source code is available at <a href="https://github.com/psamsotha/psamsotha.github.io">GitHub</a>.
    </p>
  </div>
</footer>


    
      <script src="/js/main.js"></script>
      <!-- disqus -->
      <script id="dsq-count-scr" src="//peeskillet-io.disqus.com/count.js" async></script>
      <!-- social buttons -->
      <div id="fb-root"></div>
      <script async src="//platform.twitter.com/widgets.js" charset="utf-8"></script>
      <script async defer src="//assets.pinterest.com/js/pinit.js"></script>
      <script>(function(d, s, id) {
        var js, fjs = d.getElementsByTagName(s)[0];
        if (d.getElementById(id)) return;
        js = d.createElement(s); js.id = id;
        js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.8";
        fjs.parentNode.insertBefore(js, fjs);
      }(document, 'script', 'facebook-jssdk'));</script>
      <script src="https://apis.google.com/js/platform.js" async defer></script>
    
  </body>

</html>
